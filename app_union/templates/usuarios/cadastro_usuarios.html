{% load static %}
<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">

  <title>UNION - {% if modo_edicao %}Editar{% else %}Cadastrar{% endif %} Usuário</title>

  <link rel="stylesheet" href="{% static 'css/global.css' %}">
  <script src="{% static 'js/cadastro_usuarios.js' %}"></script>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <div class="row w-100 h-100 m-0 background-color-right-side d-flex justify-content-center">
    <div class="col-6 d-flex align-items-center flex-column justify-content-center">
      <form class="row w-100 gap-2 row-gap-2" action="{% if modo_edicao %}{% url 'editar_usuario' usuario.id %}{% else %}{% url 'cadastrar_usuario' %}{% endif %}" method="post">
        {% csrf_token %}
        <div class="row py-2">
          <div class="col-6">
            <label for="nome" class="form-label text-white">Nome</label>
            <input name="nome" type="text" class="form-control" id="nome" 
                  value="{{ usuario.nome|default:'' }}" placeholder="Digite seu nome completo" required>
          </div>
          <div class="col-6">
            <label for="sobrenome" class="form-label text-white">Sobrenome</label>
            <input name="sobrenome" type="text" class="form-control" id="sobrenome" 
                  value="{{ usuario.sobrenome|default:'' }}" placeholder="Digite seu Sobrenome" required>
          </div>
        </div>
        <div class="row py-2">
          <div class="col-12">
            <label for="email" class="form-label text-white">E-mail</label>
            <input name="email" type="email" class="form-control" id="email" 
                  value="{{ usuario.email|default:'' }}" placeholder="Digite seu E-mail" required>
          </div>
        </div>
        <div class="row py-2">
          <div class="col-12">
            <input name="recebe_notificacao" class="form-check-input" type="checkbox" 
                  id="flexCheckDefault" {% if usuario.recebe_notificacao %}checked{% endif %}>
            <label class="form-check-label text-white" for="flexCheckDefault">
              Desejo receber notificações e novidades por e-mail.
            </label>
          </div>
        </div>
        <div class="row py-2">
          <div class="col-12">
            <label for="tipo_usuario" class="form-label text-white">Tipo de Usuário</label>
            <select name="tipo_usuario" id="tipo_usuario" class="form-select">
              {% for tipo in tipos_usuarios %}
              <option value="{{ tipo.0 }}" {% if usuario.tipo_usuario == tipo.0 %}selected{% endif %}>
                {{ tipo.1 }}
              </option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="row py-2">
          <div id="ra-campo" class="col-6">
            <label for="ra" class="form-label text-white">RA</label>
            <input name="ra" type="text" class="form-control" id="ra" 
                  value="{{ usuario.ra|default:'' }}">
          </div>
          <div id="uc-campo" class="col-6">
            <label for="uc" class="form-label text-white">UC</label>
            <input name="uc" type="text" class="form-control" id="uc" 
                  value="{{ usuario.uc|default:'' }}">
          </div>
          <div id="instituicao_matriz-campo" class="col-6">
            <label for="instituicao_matriz" class="form-label text-white">Instituição Matriz</label>
            <input name="instituicao_matriz" type="text" class="form-control" id="instituicao_matriz" 
                  value="{{ usuario.instituicao_matriz|default:'' }}">
          </div>
        </div>
        <div class="row py-2">
          <div id="nome_projeto-campo" class="col-6">
            <label for="nome_projeto" class="form-label text-white">Nome do Projeto</label>
            <input name="nome_projeto" type="text" class="form-control" id="nome_projeto" 
                  value="{{ usuario.nome_projeto|default:'' }}">
          </div>
          <div id="tema_trabalho-campo" class="col-6">
            <label for="tema_trabalho" class="form-label text-white">Tema do trabalho</label>
            <input name="tema_trabalho" type="text" class="form-control" id="tema_trabalho" 
                  value="{{ usuario.tema_trabalho|default:'' }}">
          </div>
        </div>
        <div class="row w-100 d-flex justify-content-between">
          <a href="{% url 'relatorio_usuarios' %}" class="button-secondary w-auto">
            <i class="bi bi-arrow-left"></i> Voltar
          </a>
          <button type="submit" class="button-primary w-auto">
            {% if modo_edicao %}
              <i class="bi bi-check-circle"></i> Salvar Alterações
            {% else %}
              <i class="bi bi-person-plus"></i> Cadastrar
            {% endif %}
          </button>
        </div>
      </form>
    </div>
  </div>
</body>

</html>